---
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Getting Started

### React Native Version Support

React Native OWL supports React Native versions 0.79.0 and newer.

### Migration notes for React Native 0.79+

Upgrading projects that already use OWL requires a few updates:

- Upgrade your app to `react-native@^0.79.5` alongside `react@19`/`@types/react@19`, and run that combination on Node.js 18 or 20.
- Ensure Android projects adopt Android Gradle Plugin 8.7+, compile/target SDK 35, set `minSdkVersion` ≥ 24, update the Gradle wrapper to 8.9+, and include the new plugin location `includeBuild('../node_modules/@react-native/gradle-plugin')`.
- Update your test tooling to Jest 29 and `ts-jest` 29+, and move to TypeScript 5.4+ (or newer) so React 19 type definitions compile without errors.
- Add an app-level `PrivacyInfo.xcprivacy` file and raise the iOS deployment target to 15.1 so Apple’s Required Reason APIs are declared when CocoaPods aggregates privacy manifests.
- If you mock `GestureResponderEvent` objects in tests, prefer typed helpers (see `getGestureResponderEvent` in OWL) or cast their `currentTarget`/`target` fields to the correct types provided by React Native 0.79.

After installing the latest `react-native-owl`, run `yarn build` (or `npm run build`) once to regenerate the bundled assets before executing tests.

### Installation

Install react-native-owl using either `yarn` or `npm`:

```bash npm2yarn
npm install --save-dev react-native-owl
```

### Configuration

Create a file called `owl.config.json` in the root of your project, next to your `package.json`. There you will have to specify your settings for **iOS** and **Android**. For more information on the config file, please refer to the [configuration file](/docs/introduction/config-file) documentation.

Below you can find an example config (can also be found in the [example app](https://github.com/FormidableLabs/react-native-owl/tree/main/example) of the repository).

```json title="owl.config.json"
{
  "ios": {
    "workspace": "ios/OwlDemo.xcworkspace",
    "scheme": "OwlDemo",
    "configuration": "Release",
    "device": "iPhone 13 Pro"
  },
  "android": {
    "packageName": "com.owldemo"
  }
}
```

#### ts-jest

You'll also need to add the [`ts-jest` preset](https://huafu.github.io/ts-jest/user/config/) to your Jest config if you plan to
write your tests in Typescript:

```bash npm2yarn
npm install --save-dev ts-jest
```

Then update your Jest config to use the `ts-jest` preset:
```json title="jest.config.js"
"preset": "ts-jest"
```
or
```json title="package.json"
"jest": {
  "preset": "ts-jest"
}
```

### Add tests

Use the [takeScreenshot](/docs/api/methods#takescreenshotname-string) and [.toMatchBaseline](/docs/api/matchers) apis to implement screenshot tests. File names must end in `.owl.ts`, `.owl.tsx`, `.owl.js` or `.owl.jsx`. [See the example app](https://github.com/FormidableLabs/react-native-owl/tree/main/example) for a more complete example.

#### Example

```js title="app.owl.tsx"
import { press, takeScreenshot } from 'react-native-owl';

describe('App.tsx', () => {
  it('takes a screenshot of the first screen', async () => {
    const screen = await takeScreenshot('homescreen');

    expect(screen).toMatchBaseline();
  });

  it('presses a button, then takes a screenshot', async () => {
    await press('button')

    const screen = await takeScreenshot('afterButtonPress');

    expect(screen).toMatchBaseline();
  });
});
```

### Building the app

Before the app can be tested, it must be built.

<Tabs groupId="npm2yarn">
  <TabItem value="npm" label="npm">

```bash
npx owl build --platform ios
```

  </TabItem>
  <TabItem value="yarn" label="Yarn">

```bash
yarn owl build --platform ios
```

  </TabItem>
</Tabs>

:::info

You will need to manually start the correct simulator before the tests are run.

:::


This runs the app on the simulator, either comparing screenshots with the baseline images, or updating the baseline images.

When comparing images, any difference in the current vs baseline will fail the test.

#### Examples

Test against the baseline images (will create the baseline images if they don't exist).

<Tabs  groupId="npm2yarn">
  <TabItem value="npm" label="npm">

```bash
npx owl test --platform ios
```

  </TabItem>
  <TabItem value="yarn" label="Yarn">

```bash
yarn owl test --platform ios
```

  </TabItem>
</Tabs>

Update the baseline images

<Tabs  groupId="npm2yarn">
  <TabItem value="npm" label="npm">

```bash
npx owl test --platform ios --update
```

  </TabItem>
  <TabItem value="yarn" label="Yarn">

```bash
yarn owl test --platform ios --update
```

  </TabItem>
</Tabs>

### Failed tests report

When the tests have failed any [`.toMatchBaseline()`](/docs/api/matchers) expectations, a [report is generated](/docs/cli/testing-the-app#viewing-the-report), where you can view all the screenshots, where the differences in the current vs baseline screenshots will be highlighted.
